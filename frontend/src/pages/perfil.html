<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Perfil - AdoptaPet</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script>
        // Verificar si el usuario est√° autenticado
        window.addEventListener('DOMContentLoaded', () => {
            const token = localStorage.getItem('token');
            const user = localStorage.getItem('user');
            
            if (!token) {
                window.location.href = 'login.html';
                return;
            }
            
            // Cargar datos del usuario
            if (user) {
                try {
                    const userData = JSON.parse(user);
                    document.getElementById('userName').textContent = userData.nombre || userData.displaynombre || 'Usuario';
                    document.getElementById('userEmail').textContent = userData.email || 'email@ejemplo.com';
                    document.getElementById('userBio').textContent = userData.bio || 'Amante de los animales üêæ';
                    
                    // Foto de perfil
                    const profileImg = document.getElementById('profileImage');
                    if (userData.foto || userData.picture) {
                        profileImg.src = userData.foto || userData.picture;
                    }
                } catch (e) {
                    console.error('Error al cargar datos del usuario:', e);
                }
            }
        });
    </script>
</head>
<body class="bg-gray-100 min-h-screen">
    
    <!-- Header -->
    <header class="bg-gradient-to-r from-cyan-500 to-cyan-600 shadow-lg">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
            <div class="flex justify-between items-center">
                <!-- Logo -->
                <a href="index.html" class="text-3xl font-bold text-white tracking-tight">
                    üêæ ADOPTAPET
                </a>
                
                <!-- Desktop Navigation -->
                <ul class="hidden md:flex space-x-8">
                    <li><a href="index.html" class="text-white font-medium hover:-translate-y-1 transition-transform duration-300 inline-block">Inicio</a></li>
                    <li><a href="adoptar.html" class="text-white font-medium hover:-translate-y-1 transition-transform duration-300 inline-block">Adoptar</a></li>
                    <li><a href="perfil.html" class="text-white font-medium underline hover:-translate-y-1 transition-transform duration-300 inline-block">Perfil</a></li>
                    <li><a href="notificaciones.html" class="text-white font-medium hover:-translate-y-1 transition-transform duration-300 inline-block">Notificaciones</a></li>
                    <li><a href="favoritos.html" class="text-white font-medium hover:-translate-y-1 transition-transform duration-300 inline-block">Favoritos</a></li>
                    <li><a href="ajustes.html" class="text-white font-medium hover:-translate-y-1 transition-transform duration-300 inline-block">Ajustes</a></li>
                </ul>
                
                <!-- Mobile Menu Button -->
                <button class="md:hidden text-white" id="mobile-menu-button">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        
        <!-- Profile Header Card -->
        <div class="bg-white rounded-3xl shadow-xl overflow-hidden mb-8">
            <!-- Cover Image -->
            <div class="h-48 bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700"></div>
            
            <!-- Profile Info -->
            <div class="relative px-6 pb-6">
                <!-- Profile Picture -->
                <div class="flex flex-col sm:flex-row items-center sm:items-end -mt-16 sm:-mt-20">
                    <img id="profileImage" 
                         src="https://ui-avatars.com/api/?name=Usuario&size=200&background=random" 
                         alt="Foto de perfil" 
                         class="w-32 h-32 sm:w-40 sm:h-40 rounded-full border-4 border-white shadow-lg object-cover">
                    
                    <div class="mt-4 sm:mt-0 sm:ml-6 text-center sm:text-left flex-1">
                        <h1 id="userName" class="text-3xl font-bold text-gray-800 mb-2">Usuario</h1>
                        <p id="userEmail" class="text-gray-600 mb-2">email@ejemplo.com</p>
                        <p id="userBio" class="text-gray-700 italic">Amante de los animales üêæ</p>
                    </div>
                    
                    <button onclick="window.location.href='ajustes.html'" 
                            class="mt-4 sm:mt-0 bg-gradient-to-r from-cyan-500 to-cyan-600 text-white px-6 py-2 rounded-full font-semibold hover:from-cyan-600 hover:to-cyan-700 transition-all duration-300 hover:-translate-y-1 hover:shadow-lg">
                        Editar Perfil
                    </button>
                </div>
                
                <!-- Stats -->
                <div class="grid grid-cols-3 gap-4 mt-8 text-center">
                    <div class="bg-gray-50 rounded-xl p-4">
                        <div class="text-3xl font-bold text-purple-600">12</div>
                        <div class="text-sm text-gray-600">Adopciones</div>
                    </div>
                    <div class="bg-gray-50 rounded-xl p-4">
                        <div class="text-3xl font-bold text-cyan-600">8</div>
                        <div class="text-sm text-gray-600">Favoritos</div>
                    </div>
                    <div class="bg-gray-50 rounded-xl p-4">
                        <div class="text-3xl font-bold text-pink-600">25</div>
                        <div class="text-sm text-gray-600">Publicaciones</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tabs Section -->
        <div class="bg-white rounded-3xl shadow-xl overflow-hidden">
            <!-- Tab Headers -->
            <div class="border-b border-gray-200">
                <nav class="flex -mb-px">
                    <button onclick="showTab('mis-mascotas')" 
                            class="tab-button w-1/3 py-4 text-center font-semibold text-gray-700 border-b-2 border-purple-600 bg-purple-50 transition-all duration-300">
                        Mis Mascotas
                    </button>
                    <button onclick="showTab('solicitudes')" 
                            class="tab-button w-1/3 py-4 text-center font-semibold text-gray-500 hover:text-gray-700 border-b-2 border-transparent hover:border-gray-300 transition-all duration-300">
                        Solicitudes
                    </button>
                    <button onclick="showTab('historial')" 
                            class="tab-button w-1/3 py-4 text-center font-semibold text-gray-500 hover:text-gray-700 border-b-2 border-transparent hover:border-gray-300 transition-all duration-300">
                        Historial
                    </button>
                </nav>
            </div>

            <!-- Tab Content -->
            <div class="p-6">
                <!-- Mis Mascotas Tab -->
                <div id="mis-mascotas" class="tab-content">
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <!-- Pet Card 1 -->
                        <div class="bg-white border border-gray-200 rounded-2xl overflow-hidden hover:shadow-lg transition-all duration-300 hover:-translate-y-2">
                            <img src="https://images.unsplash.com/photo-1574158622682-e40e69881006?w=400&h=300&fit=crop" 
                                 alt="Mascota" 
                                 class="w-full h-48 object-cover">
                            <div class="p-4">
                                <h3 class="text-xl font-bold text-gray-800 mb-2">Luna</h3>
                                <p class="text-gray-600 text-sm mb-3">Gato ‚Ä¢ 2 meses ‚Ä¢ Hembra</p>
                                <div class="flex gap-2 mb-3">
                                    <span class="bg-green-100 text-green-700 text-xs px-3 py-1 rounded-full">Disponible</span>
                                    <span class="bg-blue-100 text-blue-700 text-xs px-3 py-1 rounded-full">3 interesados</span>
                                </div>
                                <div class="flex gap-2">
                                    <button class="flex-1 bg-cyan-500 text-white py-2 rounded-lg text-sm font-semibold hover:bg-cyan-600 transition-all duration-300">
                                        Ver Detalles
                                    </button>
                                    <button class="px-4 bg-gray-200 text-gray-700 py-2 rounded-lg text-sm font-semibold hover:bg-gray-300 transition-all duration-300">
                                        ‚úèÔ∏è
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Pet Card 2 -->
                        <div class="bg-white border border-gray-200 rounded-2xl overflow-hidden hover:shadow-lg transition-all duration-300 hover:-translate-y-2">
                            <img src="https://images.unsplash.com/photo-1587300003388-59208cc962cb?w=400&h=300&fit=crop" 
                                 alt="Mascota" 
                                 class="w-full h-48 object-cover">
                            <div class="p-4">
                                <h3 class="text-xl font-bold text-gray-800 mb-2">Max</h3>
                                <p class="text-gray-600 text-sm mb-3">Perro ‚Ä¢ 1 a√±o ‚Ä¢ Macho</p>
                                <div class="flex gap-2 mb-3">
                                    <span class="bg-yellow-100 text-yellow-700 text-xs px-3 py-1 rounded-full">En proceso</span>
                                    <span class="bg-blue-100 text-blue-700 text-xs px-3 py-1 rounded-full">1 adoptante</span>
                                </div>
                                <div class="flex gap-2">
                                    <button class="flex-1 bg-cyan-500 text-white py-2 rounded-lg text-sm font-semibold hover:bg-cyan-600 transition-all duration-300">
                                        Ver Detalles
                                    </button>
                                    <button class="px-4 bg-gray-200 text-gray-700 py-2 rounded-lg text-sm font-semibold hover:bg-gray-300 transition-all duration-300">
                                        ‚úèÔ∏è
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Add New Pet Button -->
                        <div class="bg-gradient-to-br from-purple-100 to-purple-200 rounded-2xl border-2 border-dashed border-purple-400 flex items-center justify-center hover:from-purple-200 hover:to-purple-300 transition-all duration-300 cursor-pointer min-h-[320px]">
                            <div class="text-center p-6">
                                <div class="text-6xl mb-4">‚ûï</div>
                                <p class="text-purple-700 font-semibold text-lg">Publicar Nueva Mascota</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Solicitudes Tab -->
                <div id="solicitudes" class="tab-content hidden">
                    <div class="space-y-4">
                        <!-- Request Card 1 -->
                        <div class="bg-gray-50 rounded-2xl p-6 flex flex-col sm:flex-row items-start sm:items-center gap-4 hover:bg-gray-100 transition-all duration-300">
                            <img src="https://ui-avatars.com/api/?name=Maria+Garcia&size=80&background=random" 
                                 alt="Usuario" 
                                 class="w-16 h-16 rounded-full border-2 border-purple-300">
                            <div class="flex-1">
                                <h3 class="text-lg font-bold text-gray-800">Mar√≠a Garc√≠a</h3>
                                <p class="text-gray-600 text-sm">Interesada en adoptar a <span class="font-semibold">Luna</span></p>
                                <p class="text-gray-500 text-xs mt-1">Hace 2 horas</p>
                            </div>
                            <div class="flex gap-2">
                                <button class="bg-green-500 text-white px-6 py-2 rounded-lg font-semibold hover:bg-green-600 transition-all duration-300">
                                    Aceptar
                                </button>
                                <button class="bg-red-500 text-white px-6 py-2 rounded-lg font-semibold hover:bg-red-600 transition-all duration-300">
                                    Rechazar
                                </button>
                            </div>
                        </div>

                        <!-- Request Card 2 -->
                        <div class="bg-gray-50 rounded-2xl p-6 flex flex-col sm:flex-row items-start sm:items-center gap-4 hover:bg-gray-100 transition-all duration-300">
                            <img src="https://ui-avatars.com/api/?name=Carlos+Lopez&size=80&background=random" 
                                 alt="Usuario" 
                                 class="w-16 h-16 rounded-full border-2 border-cyan-300">
                            <div class="flex-1">
                                <h3 class="text-lg font-bold text-gray-800">Carlos L√≥pez</h3>
                                <p class="text-gray-600 text-sm">Interesado en adoptar a <span class="font-semibold">Max</span></p>
                                <p class="text-gray-500 text-xs mt-1">Hace 5 horas</p>
                            </div>
                            <div class="flex gap-2">
                                <button class="bg-green-500 text-white px-6 py-2 rounded-lg font-semibold hover:bg-green-600 transition-all duration-300">
                                    Aceptar
                                </button>
                                <button class="bg-red-500 text-white px-6 py-2 rounded-lg font-semibold hover:bg-red-600 transition-all duration-300">
                                    Rechazar
                                </button>
                            </div>
                        </div>

                        <!-- Empty State -->
                        <div class="text-center py-12">
                            <div class="text-6xl mb-4">üìã</div>
                            <p class="text-gray-500 text-lg">No hay m√°s solicitudes pendientes</p>
                        </div>
                    </div>
                </div>

                <!-- Historial Tab -->
                <div id="historial" class="tab-content hidden">
                    <div class="space-y-4">
                        <!-- History Item 1 -->
                        <div class="bg-green-50 border-l-4 border-green-500 rounded-lg p-6">
                            <div class="flex items-start gap-4">
                                <div class="text-3xl">‚úÖ</div>
                                <div class="flex-1">
                                    <h3 class="text-lg font-bold text-gray-800 mb-1">Adopci√≥n exitosa</h3>
                                    <p class="text-gray-700">Michi fue adoptado por Ana Mart√≠nez</p>
                                    <p class="text-gray-500 text-sm mt-2">15 de Octubre, 2024</p>
                                </div>
                            </div>
                        </div>

                        <!-- History Item 2 -->
                        <div class="bg-blue-50 border-l-4 border-blue-500 rounded-lg p-6">
                            <div class="flex items-start gap-4">
                                <div class="text-3xl">üìù</div>
                                <div class="flex-1">
                                    <h3 class="text-lg font-bold text-gray-800 mb-1">Publicaci√≥n creada</h3>
                                    <p class="text-gray-700">Publicaste a Max en adopci√≥n</p>
                                    <p class="text-gray-500 text-sm mt-2">20 de Septiembre, 2024</p>
                                </div>
                            </div>
                        </div>

                        <!-- History Item 3 -->
                        <div class="bg-purple-50 border-l-4 border-purple-500 rounded-lg p-6">
                            <div class="flex items-start gap-4">
                                <div class="text-3xl">üéâ</div>
                                <div class="flex-1">
                                    <h3 class="text-lg font-bold text-gray-800 mb-1">Bienvenido a AdoptaPet</h3>
                                    <p class="text-gray-700">Te registraste en la plataforma</p>
                                    <p class="text-gray-500 text-sm mt-2">1 de Septiembre, 2024</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8 text-center mt-12">
        <p>&copy; 2025 AdoptaPet. Todos los derechos reservados. Hecho con ‚ù§Ô∏è para las mascotas.</p>
    </footer>

    <script>
        // Tab functionality
        function showTab(tabName) {
            // Hide all tabs
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.add('hidden'));
            
            // Remove active state from all buttons
            const buttons = document.querySelectorAll('.tab-button');
            buttons.forEach(btn => {
                btn.classList.remove('border-purple-600', 'bg-purple-50', 'text-gray-700');
                btn.classList.add('border-transparent', 'text-gray-500');
            });
            
            // Show selected tab
            document.getElementById(tabName).classList.remove('hidden');
            
            // Add active state to clicked button
            event.target.classList.add('border-purple-600', 'bg-purple-50', 'text-gray-700');
            event.target.classList.remove('border-transparent', 'text-gray-500');
        }

        // Mobile menu toggle
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        mobileMenuButton?.addEventListener('click', function() {
            alert('Men√∫ m√≥vil - Agrega la l√≥gica seg√∫n necesites');
        });
    </script>
</body>
</html>